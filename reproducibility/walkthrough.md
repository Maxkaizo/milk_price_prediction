# MLOps Project - Milk Price Prediction
## Walkthrough

### Start MlFlow Server

![alt text](screenshots/mlflowstart.png)

![alt text](screenshots/mlflow.png)

### Start Prefect Server

![alt text](screenshots/prefect_start.png)

![alt text](screenshots/prefect.png)

### Main Training Daily Flow 

* Deployment

![alt text](screenshots/daily_deploy.png)

![alt text](screenshots/deploy_webui.png)

* Runs

- With no new file

![alt text](screenshots/nofilerun.png)

![alt text](screenshots/nofilewebui.png)

![alt text](screenshots/nofiletg.png)

- With new files

* The training pipeline runs completely
![alt text](screenshots/full_run_prefect_v2.png)
![alt text](screenshots/full_run_log.png)

* Anew file is ingested to datalake
![alt text](screenshots/s3_ingested.png)

* A new model is trained on the most up-to-date data available.
![alt text](screenshots/mlflow_trained_models.png)

* A data drift report is generated by Evidently AI, ensuring data quality is continuously monitored. (located at monitor/reports/)
![alt text](screenshots/datadrift_report.png)

* The best-performing model (between Random Forest and XGBoost) is identified and promoted to the "Staging" stage in the MLflow Model Registry.
* A metadata file in S3 is updated, pointing to the new best model, making it instantly available for inference services.
![alt text](screenshots/promoted_model.png)

* A full set of notifications is sent to Telegram, providing a complete audit trail of the run.
![alt text](screenshots/full_run_tg.png)


### Batch Prediction Daily Flow 

* Deployment
![alt text](screenshots/batch_deploy.png)

* Run
- The training pipeline runs completely

![alt text](screenshots/batch_run_terminal.png)

![alt text](screenshots/daily_predictions_webui.png)


* A full set of notifications is sent to Telegram, providing a complete audit trail of the run.
![alt text](screenshots/batch_tg.png)

- A full set of predictions is created and stored at reports/

![alt text](screenshots/batch_preds.png)

### Deploy infra via Terraform

* deployment

![alt text](screenshots/iac_deploy.png)

* List Resources
![alt text](screenshots/tf_state_list.png)

* Test service

![alt text](image.png)




















